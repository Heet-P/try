<!DOCTYPE html>
<html>
<head>
<title>Library Book Management</title>
<style>
body { font-family: Arial; padding: 20px; }
.success { color: green; font-weight: bold; }
.error { color: red; font-weight: bold; }
.warning { color: orange; font-weight: bold; }
table { width: 100%; border-collapse: collapse; margin-top: 20px; }
table, th, td { border: 1px solid #aaa; padding: 10px; }
input { padding: 8px; width: 250px; margin-bottom: 10px; }
button { padding: 8px 15px; margin-right: 10px; cursor: pointer; }
.status-Available{ color:green; font-weight:bold; }
.status-Issued{ color:red; font-weight:bold; }
</style>
</head>
<body>

<h2>Library Book Management System</h2>

<div id="msg"></div>

<h3>Book List</h3>

<table id="bookTable">
<tr><th>Title</th><th>Author</th><th>Status</th><th>Action</th></tr>
<tr>
    <td>Data Structures</td>
    <td>Reema Thareja</td>
    <td class="status-Available">Available</td>
    <td>
        <button onclick="borrow(this)">Borrow</button>
        <button onclick="returnBook(this)">Return</button>
    </td>
</tr>

<tr>
    <td>Operating Systems</td>
    <td>Galvin</td>
    <td class="status-Available">Available</td>
    <td>
        <button onclick="borrow(this)">Borrow</button>
        <button onclick="returnBook(this)">Return</button>
    </td>
</tr>

<tr>
    <td>DBMS</td>
    <td>Korth</td>
    <td class="status-Available">Available</td>
    <td>
        <button onclick="borrow(this)">Borrow</button>
        <button onclick="returnBook(this)">Return</button>
    </td>
</tr>
</table>

<hr>

<input type="text" id="search" placeholder="Search books..." onkeyup="searchBooks()">

<script>
function showMsg(msg,type){
    let m = document.getElementById("msg");
    m.innerHTML = msg;
    m.className = type;
    setTimeout(()=> m.innerHTML="",3000);
}

function borrow(btn){
    let row = btn.parentNode.parentNode;
    let statusCell = row.cells[2];

    if(statusCell.innerText === "Issued"){
        showMsg("✕ Book already issued!", "error");
        return;
    }

    statusCell.innerText = "Issued";
    statusCell.className = "status-Issued";
    showMsg("✓ Book borrowed successfully!", "success");
}

function returnBook(btn){
    let row = btn.parentNode.parentNode;
    let statusCell = row.cells[2];

    if(statusCell.innerText === "Available"){
        showMsg("⚠ Book is already available!", "warning");
        return;
    }

    statusCell.innerText = "Available";
    statusCell.className = "status-Available";
    showMsg("✓ Book returned successfully!", "success");
}

function searchBooks(){
    let filter = document.getElementById("search").value.toUpperCase();
    let rows = document.querySelectorAll("#bookTable tr");

    for(let i=1;i<rows.length;i++){
        rows[i].style.display = rows[i].innerText.toUpperCase().includes(filter) ? "" : "none";
    }
}
</script>

</body>
</html>
